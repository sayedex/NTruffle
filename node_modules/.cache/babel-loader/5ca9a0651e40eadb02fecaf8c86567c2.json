{"ast":null,"code":"import _regeneratorRuntime from\"/home/sa/Desktop/Sayed/Sayed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sa/Desktop/Sayed/Sayed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/sa/Desktop/Sayed/Sayed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Web3ReactProvider}from'@web3-react/core';import{useWeb3React}from\"@web3-react/core\";import{injected}from\"./img/Connnector\";import Abi from\"./Abi.json\";import Web3 from'web3';import Devtoken from\"./Devtoken.json\";import Tokensale from\"./Tokensale.json\";import Tokensaletow from\"./New.json\";import newtoken from\"./Newtoken.json\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TestWeb3=function TestWeb3(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setvalue=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),newinput=_useState4[0],setnewinput=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),store=_useState6[0],sestore=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),totalsupply=_useState8[0],settotalsupply=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),tokencontract=_useState10[0],settokencontact=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),newtoken1=_useState12[0],setnewtoken=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),userdeta=_useState14[0],setuserdeta=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),balanceofuser=_useState16[0],setbalanceofuser=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),Devtokensale=_useState18[0],setDevtokensale=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),newtokensale=_useState20[0],setnewtokensale=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),tokenprice=_useState22[0],settokenprice=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),totalsolda=_useState24[0],settotalsolda=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),loding=_useState26[0],loging=_useState26[1];var _useState27=useState(true),_useState28=_slicedToArray(_useState27,2),show=_useState28[0],setshow=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),show2=_useState30[0],setshow2=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),approve=_useState32[0],setapprove=_useState32[1];var change=function change(e){setvalue(e.target.value);};var loadWeb3=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!window.ethereum){_context.next=5;break;}_context.next=3;return window.ethereum.enable();case 3:_context.next=6;break;case 5:window.alert(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function loadWeb3(){return _ref.apply(this,arguments);};}();var loadBlockchainData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var web3,url,accounts,hello,Tokensalecontact,Newtokensale,Newtokem,totalsupplyS,totalsupply,balanceofuser,totalsold,Tokenprice,Realtokenprice,totalsoldtotal,balanceofuserinwei;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeof window.ethereum==\"undefined\")){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:web3=new Web3(window.ethereum);url=window.location.href;_context2.next=6;return web3.eth.getAccounts();case 6:accounts=_context2.sent;setuserdeta(accounts);hello=new web3.eth.Contract(Devtoken.abi,\"0x4B9C6e95F3F80319303dEfdb8ae8Bf888b0b544F\");Tokensalecontact=new web3.eth.Contract(Tokensale.abi,\"0x9bD3FfF95ecd4DA1ba93679f87c9DEBc6b5fD534\");Newtokensale=new web3.eth.Contract(Tokensaletow.abi,\"0x5B1c9b77B0af4bEE44f0f8C240dAc75497ec08A1\");setnewtokensale(Newtokensale);Newtokem=new web3.eth.Contract(newtoken.abi,\"0xed24fc36d5ee211ea25a80239fb8c4cfd80f12ee\");setnewtoken(Newtokem);settokencontact(hello);setDevtokensale(Tokensalecontact);_context2.next=18;return hello.methods.totalSupply().call();case 18:totalsupplyS=_context2.sent;_context2.next=21;return web3.utils.fromWei(totalsupplyS,'ether');case 21:totalsupply=_context2.sent;settotalsupply(totalsupply);//Token price facthing \n// if (accounts.length == 0) {\n//   return;\n// }\n// setAccount(accounts[0]);\n// const networkId = await web3.eth.net.getId();\n///user balance factching \n_context2.next=25;return hello.methods.balanceOf(accounts[0]).call();case 25:balanceofuser=_context2.sent;_context2.next=28;return Newtokensale.methods.totalsold().call();case 28:totalsold=_context2.sent;_context2.next=31;return Tokensalecontact.methods.tokenprice().call();case 31:Tokenprice=_context2.sent;_context2.next=34;return web3.utils.fromWei(Tokenprice,'ether');case 34:Realtokenprice=_context2.sent;_context2.next=37;return web3.utils.fromWei(totalsold,'ether');case 37:totalsoldtotal=_context2.sent;settotalsolda(totalsoldtotal);_context2.next=41;return web3.utils.fromWei(balanceofuser,'ether');case 41:balanceofuserinwei=_context2.sent;setbalanceofuser(balanceofuserinwei);case 43:case\"end\":return _context2.stop();}}},_callee2);}));return function loadBlockchainData(){return _ref2.apply(this,arguments);};}();var handlechnage=function handlechnage(){// tokencontract.methods.approve(\"0xe76899F7E3400e276fA8ec99d03C9F0421dE2d9d\", 100000).send({ from: userdeta.toString()})\n};useEffect(function(){loadWeb3();loadBlockchainData();//esl\n},[]);var changeininputfield=function changeininputfield(e){console.log(e.target.value);setvalue(e.target.value);};var newchnage=function newchnage(e){console.log(e.target.value);setnewinput(e.target.value.toString());};var SendTrsnsation=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var web3,amountofethinwei;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();web3=new Web3(window.ethereum);_context3.next=4;return web3.utils.toWei(value.toString());case 4:amountofethinwei=_context3.sent;_context3.prev=5;tokencontract.methods.approve(\"0x52fDFBE36aC1B6F743fbdDcFbe585c5e5950b687\",amountofethinwei).send({from:userdeta.toString()}).once(\"recepient\",function(recepient){setapprove(true);}).on(\"error\",function(error){window.alert(\"error \");});_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](5);window.alert(\"error\");return _context3.abrupt(\"return\");case 13:_context3.next=15;return Devtokensale.methods.buyTokens().send({from:userdeta.toString(),value:amountofethinwei}).once(\"recepient\",function(recepient){alert(\"sucess\");}).on(\"error\",function(){window.alert(\"error \");});case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[5,9]]);}));return function SendTrsnsation(_x){return _ref3.apply(this,arguments);};}();////new \nvar SendTrsnsationTow=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var web3,newamountofethinwei;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();web3=new Web3(window.ethereum);_context4.next=4;return web3.utils.toWei(newinput);case 4:newamountofethinwei=_context4.sent;newtoken1.methods.approve(\"0x5B1c9b77B0af4bEE44f0f8C240dAc75497ec08A1\",newamountofethinwei).send({from:userdeta.toString()}).on(\"transactionHash\",function(hash){console.log(hash);hash?newtokensale.methods.buyTokens(newamountofethinwei).send({from:userdeta.toString()}).on(\"transactionHash\",function(hash){window.alert(\"sucess\");setapprove(true);}):window.alert(\"Failed\");});// await newtokensale.methods.buyTokens(newamountofethinwei).send({from:userdeta.toString() })\n//      .once(\"recepient\", (recepient) => {\n//       window.alert(\"sucess\");\n//       window.location.reload();\n//     })\n//     .on(\"error\", () => {\n//      window.alert(\"error \")\n//      });\n//   }\ncase 6:case\"end\":return _context4.stop();}}},_callee4);}));return function SendTrsnsationTow(_x2){return _ref4.apply(this,arguments);};}();//new\nvar Pairchange=function Pairchange(e){console.log(\"work\");setshow2(false);setshow(true);};var Pairchange1=function Pairchange1(e){console.log(\"work\");setshow(false);setshow2(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Total supply \",totalsupply,\" Dev Token\"]}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"You have \",balanceofuser,\" Dev token man!\"]}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Total Sold \",totalsolda,\" % \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"selector\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:Pairchange,children:\" BNB/DEV\"}),/*#__PURE__*/_jsx(\"div\",{className:\"BNBDEV\",onClick:Pairchange1,children:\" BUSD/DEV\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:SendTrsnsation,className:show?\"BNBDAI\":\"hide\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"\",value:value,onChange:changeininputfield,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Buy Now*bnb\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:show2?\"BNBDAI\":\"hide\",onSubmit:SendTrsnsationTow,children:[/*#__PURE__*/_jsx(\"input\",{type:\"\",value:newinput,onChange:newchnage,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"\\\"Buy Now* BUSD/DEV\"}),/*#__PURE__*/_jsx(\"h1\",{children:approve?\"Buy Done\":\"Apporve pls!\"})]})]});};export default TestWeb3;// const web3 = new Web3(window.ethereum);\n// const amountofethinwei = await web3.utils.toWei(a.toString())\n// await presalecontractinstance\n// .methods\n// .buyTokens()\n// .send({from:account , value : amountofethinwei })\n//   .once(\"recepient\", (recepient) => {\n//    window.alert(\"sucess\")\n//   })\n//   .on(\"error\", () => {\n//     window.alert(\"error \")\n//   });","map":{"version":3,"sources":["/home/sa/Desktop/Sayed/Sayed/src/Com/Test.jsx"],"names":["React","useEffect","useState","Web3ReactProvider","useWeb3React","injected","Abi","Web3","Devtoken","Tokensale","Tokensaletow","newtoken","TestWeb3","value","setvalue","newinput","setnewinput","store","sestore","totalsupply","settotalsupply","tokencontract","settokencontact","newtoken1","setnewtoken","userdeta","setuserdeta","balanceofuser","setbalanceofuser","Devtokensale","setDevtokensale","newtokensale","setnewtokensale","tokenprice","settokenprice","totalsolda","settotalsolda","loding","loging","show","setshow","show2","setshow2","approve","setapprove","change","e","target","loadWeb3","window","ethereum","enable","alert","loadBlockchainData","web3","url","location","href","eth","getAccounts","accounts","hello","Contract","abi","Tokensalecontact","Newtokensale","Newtokem","methods","totalSupply","call","totalsupplyS","utils","fromWei","balanceOf","totalsold","Tokenprice","Realtokenprice","totalsoldtotal","balanceofuserinwei","handlechnage","changeininputfield","console","log","newchnage","toString","SendTrsnsation","preventDefault","toWei","amountofethinwei","send","from","once","recepient","on","error","buyTokens","SendTrsnsationTow","newamountofethinwei","hash","Pairchange","Pairchange1"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAASC,iBAAT,KAAkC,kBAAlC,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,YAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,C,6IACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAI,CACnB,cAAyBV,QAAQ,EAAjC,wCAAOW,KAAP,eAAaC,QAAb,eACA,eAA+BZ,QAAQ,EAAvC,yCAAOa,QAAP,eAAgBC,WAAhB,eACA,eAAwBd,QAAQ,EAAhC,yCAAOe,KAAP,eAAaC,OAAb,eACA,eAAqChB,QAAQ,EAA7C,yCAAOiB,WAAP,eAAmBC,cAAnB,eACA,eAAuClB,QAAQ,EAA/C,0CAAOmB,aAAP,gBAAqBC,eAArB,gBACA,gBAA+BpB,QAAQ,EAAvC,2CAAOqB,SAAP,gBAAiBC,WAAjB,gBACA,gBAA+BtB,QAAQ,CAAC,EAAD,CAAvC,2CAAOuB,QAAP,gBAAgBC,WAAhB,gBACA,gBAAyCxB,QAAQ,EAAjD,2CAAOyB,aAAP,gBAAqBC,gBAArB,gBACA,gBAAuC1B,QAAQ,EAA/C,2CAAO2B,YAAP,gBAAoBC,eAApB,gBACA,gBAAuC5B,QAAQ,EAA/C,2CAAO6B,YAAP,gBAAoBC,eAApB,gBACA,gBAAmC9B,QAAQ,EAA3C,2CAAO+B,UAAP,gBAAkBC,aAAlB,gBACA,gBAAmChC,QAAQ,EAA3C,2CAAOiC,UAAP,gBAAkBC,aAAlB,gBACA,gBAAyBlC,QAAQ,EAAjC,2CAAOmC,MAAP,gBAAeC,MAAf,gBACA,gBAAuBpC,QAAQ,CAAC,IAAD,CAA/B,2CAAOqC,IAAP,gBAAYC,OAAZ,gBACA,gBAAyBtC,QAAQ,CAAC,KAAD,CAAjC,2CAAOuC,KAAP,gBAAaC,QAAb,gBACA,gBAA6BxC,QAAQ,CAAC,KAAD,CAArC,2CAAOyC,OAAP,gBAAeC,UAAf,gBAGC,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAK,CACnBhC,QAAQ,CAACgC,CAAC,CAACC,MAAF,CAASlC,KAAV,CAAR,CACD,CAFA,CAID,GAAMmC,CAAAA,QAAQ,0FAAG,uIACXC,MAAM,CAACC,QADI,+CAEPD,CAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAFO,qCAIbF,MAAM,CAACG,KAAP,CACE,qEADF,EAJa,sDAAH,kBAARJ,CAAAA,QAAQ,0CAAd,CASA,GAAMK,CAAAA,kBAAkB,2FAAG,6TAGvB,MAAOJ,CAAAA,MAAM,CAACC,QAAd,EAA0B,WAHH,oEAOnBI,IAPmB,CAOZ,GAAI/C,CAAAA,IAAJ,CAAS0C,MAAM,CAACC,QAAhB,CAPY,CASrBK,GATqB,CASfN,MAAM,CAACO,QAAP,CAAgBC,IATD,wBAWFH,CAAAA,IAAI,CAACI,GAAL,CAASC,WAAT,EAXE,QAWnBC,QAXmB,gBAYzBlC,WAAW,CAACkC,QAAD,CAAX,CACMC,KAbmB,CAaX,GAAIP,CAAAA,IAAI,CAACI,GAAL,CAASI,QAAb,CAAsBtD,QAAQ,CAACuD,GAA/B,CAAmC,4CAAnC,CAbW,CAcnBC,gBAdmB,CAcA,GAAIV,CAAAA,IAAI,CAACI,GAAL,CAASI,QAAb,CAAsBrD,SAAS,CAACsD,GAAhC,CAAoC,4CAApC,CAdA,CAenBE,YAfmB,CAeJ,GAAIX,CAAAA,IAAI,CAACI,GAAL,CAASI,QAAb,CAAsBpD,YAAY,CAACqD,GAAnC,CAAuC,4CAAvC,CAfI,CAgBzB/B,eAAe,CAACiC,YAAD,CAAf,CACMC,QAjBmB,CAiBR,GAAIZ,CAAAA,IAAI,CAACI,GAAL,CAASI,QAAb,CAAsBnD,QAAQ,CAACoD,GAA/B,CAAmC,4CAAnC,CAjBQ,CAkBzBvC,WAAW,CAAC0C,QAAD,CAAX,CACA5C,eAAe,CAACuC,KAAD,CAAf,CACA/B,eAAe,CAACkC,gBAAD,CAAf,CApByB,wBAqBCH,CAAAA,KAAK,CAACM,OAAN,CAAcC,WAAd,GAA4BC,IAA5B,EArBD,SAqBpBC,YArBoB,wCAsBEhB,CAAAA,IAAI,CAACiB,KAAL,CAAWC,OAAX,CAAmBF,YAAnB,CAAgC,OAAhC,CAtBF,SAsBlBnD,WAtBkB,gBAuBxBC,cAAc,CAACD,WAAD,CAAd,CAIG;AAEJ;AACA;AACA;AACA;AACA;AACJ;AAlC6B,wBAoCD0C,CAAAA,KAAK,CAACM,OAAN,CAAcM,SAAd,CAAwBb,QAAQ,CAAC,CAAD,CAAhC,EAAqCS,IAArC,EApCC,SAoCvB1C,aApCuB,wCAqCLsC,CAAAA,YAAY,CAACE,OAAb,CAAqBO,SAArB,GAAiCL,IAAjC,EArCK,SAqCvBK,SArCuB,wCAsCJV,CAAAA,gBAAgB,CAACG,OAAjB,CAAyBlC,UAAzB,GAAsCoC,IAAtC,EAtCI,SAsCvBM,UAtCuB,wCAuCArB,CAAAA,IAAI,CAACiB,KAAL,CAAWC,OAAX,CAAmBG,UAAnB,CAA8B,OAA9B,CAvCA,SAuCvBC,cAvCuB,wCAwCAtB,CAAAA,IAAI,CAACiB,KAAL,CAAWC,OAAX,CAAmBE,SAAnB,CAA6B,OAA7B,CAxCA,SAwCvBG,cAxCuB,gBAyC7BzC,aAAa,CAACyC,cAAD,CAAb,CAzC6B,wBA0CIvB,CAAAA,IAAI,CAACiB,KAAL,CAAWC,OAAX,CAAmB7C,aAAnB,CAAiC,OAAjC,CA1CJ,SA0CvBmD,kBA1CuB,gBA2C7BlD,gBAAgB,CAACkD,kBAAD,CAAhB,CA3C6B,yDAAH,kBAAlBzB,CAAAA,kBAAkB,2CAAxB,CA6CA,GAAM0B,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAI,CAEvB;AACD,CAHD,CAIA9E,SAAS,CAAC,UAAM,CACd+C,QAAQ,GACRK,kBAAkB,GAElB;AACD,CALQ,CAKN,EALM,CAAT,CAMA,GAAM2B,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAClC,CAAD,CAAK,CAC9BmC,OAAO,CAACC,GAAR,CAAYpC,CAAC,CAACC,MAAF,CAASlC,KAArB,EACAC,QAAQ,CAACgC,CAAC,CAACC,MAAF,CAASlC,KAAV,CAAR,CACD,CAHD,CAIA,GAAMsE,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACrC,CAAD,CAAK,CACrBmC,OAAO,CAACC,GAAR,CAAYpC,CAAC,CAACC,MAAF,CAASlC,KAArB,EACAG,WAAW,CAAC8B,CAAC,CAACC,MAAF,CAASlC,KAAT,CAAeuE,QAAf,EAAD,CAAX,CACD,CAHD,CAIF,GAAMC,CAAAA,cAAc,2FAAG,kBAAOvC,CAAP,gJACvBA,CAAC,CAACwC,cAAF,GAA6BhC,IADN,CACa,GAAI/C,CAAAA,IAAJ,CAAS0C,MAAM,CAACC,QAAhB,CADb,wBAEQI,CAAAA,IAAI,CAACiB,KAAL,CAAWgB,KAAX,CAAiB1E,KAAK,CAACuE,QAAN,EAAjB,CAFR,QAEjBI,gBAFiB,iCAKrBnE,aAAa,CAAC8C,OAAd,CAAsBxB,OAAtB,CAA8B,4CAA9B,CAA4E6C,gBAA5E,EAA8FC,IAA9F,CAAmG,CAAEC,IAAI,CAAEjE,QAAQ,CAAC2D,QAAT,EAAR,CAAnG,EAAiIO,IAAjI,CACC,WADD,CACa,SAACC,SAAD,CAAa,CACxBhD,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,EAGGiD,EAHH,CAGM,OAHN,CAGc,SAACC,KAAD,CAAS,CACrB7C,MAAM,CAACG,KAAP,CAAa,QAAb,EAED,CAND,EALqB,mFAcrBH,MAAM,CAACG,KAAP,CAAa,OAAb,EAdqB,kEAiBjBvB,CAAAA,YAAY,CAACsC,OAAb,CAAqB4B,SAArB,GAAmCN,IAAnC,CAAwC,CAACC,IAAI,CAACjE,QAAQ,CAAC2D,QAAT,EAAN,CAA4BvE,KAAK,CAAG2E,gBAApC,CAAxC,EACFG,IADE,CACG,WADH,CACgB,SAACC,SAAD,CAAe,CAClCxC,KAAK,CAAC,QAAD,CAAL,CACA,CAHG,EAIHyC,EAJG,CAIA,OAJA,CAIS,UAAM,CAClB5C,MAAM,CAACG,KAAP,CAAa,QAAb,EACC,CANE,CAjBiB,uEAAH,kBAAdiC,CAAAA,cAAc,6CAApB,CA0BA;AAIA,GAAMW,CAAAA,iBAAiB,2FAAG,kBAAOlD,CAAP,mJACxBA,CAAC,CAACwC,cAAF,GACMhC,IAFkB,CAEX,GAAI/C,CAAAA,IAAJ,CAAS0C,MAAM,CAACC,QAAhB,CAFW,wBAGUI,CAAAA,IAAI,CAACiB,KAAL,CAAWgB,KAAX,CAAiBxE,QAAjB,CAHV,QAGlBkF,mBAHkB,gBAIrB1E,SAAS,CAAC4C,OAAV,CAAkBxB,OAAlB,CAA0B,4CAA1B,CAAwEsD,mBAAxE,EAA6FR,IAA7F,CAAkG,CAAEC,IAAI,CAAEjE,QAAQ,CAAC2D,QAAT,EAAR,CAAlG,EAAgIS,EAAhI,CAAmI,iBAAnI,CAAqJ,SAACK,IAAD,CAAQ,CAC5JjB,OAAO,CAACC,GAAR,CAAYgB,IAAZ,EACFA,IAAI,CACJnE,YAAY,CAACoC,OAAb,CAAqB4B,SAArB,CAA+BE,mBAA/B,EAAoDR,IAApD,CAAyD,CAACC,IAAI,CAACjE,QAAQ,CAAC2D,QAAT,EAAN,CAAzD,EAAqFS,EAArF,CAAwF,iBAAxF,CAA0G,SAACK,IAAD,CAAQ,CAChHjD,MAAM,CAACG,KAAP,CAAa,QAAb,EACAR,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,CADI,CAMJK,MAAM,CAACG,KAAP,CAAa,QAAb,CANA,CAQD,CAVE,EAYL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAzB0B,wDAAH,kBAAjB4C,CAAAA,iBAAiB,8CAAvB,CA2BA;AACA,GAAMG,CAAAA,UAAU,CAAE,QAAZA,CAAAA,UAAY,CAACrD,CAAD,CAAK,CACvBmC,OAAO,CAACC,GAAR,CAAY,MAAZ,EACAxC,QAAQ,CAAC,KAAD,CAAR,CACAF,OAAO,CAAC,IAAD,CAAP,CAEC,CALD,CAMA,GAAM4D,CAAAA,WAAW,CAAE,QAAbA,CAAAA,WAAa,CAACtD,CAAD,CAAK,CACtBmC,OAAO,CAACC,GAAR,CAAY,MAAZ,EACA1C,OAAO,CAAC,KAAD,CAAP,CACAE,QAAQ,CAAC,IAAD,CAAR,CAGC,CANH,CAOA,mBACI,wCACJ,sCAAkBvB,WAAlB,gBADI,cAEJ,kCAAcQ,aAAd,qBAFI,cAGJ,oCAAgBQ,UAAhB,SAHI,cAOJ,aAAK,SAAS,CAAC,UAAf,wBACA,YAAM,OAAO,CAAEgE,UAAf,sBADA,cAEA,YAAK,SAAS,CAAC,QAAf,CAAwB,OAAO,CAAEC,WAAjC,uBAFA,GAPI,cAYJ,cAAM,QAAQ,CAAEf,cAAhB,CAAiC,SAAS,CAAE9C,IAAI,CAAE,QAAF,CAAa,MAA7D,wBAEA,cAAO,IAAI,CAAC,EAAZ,CAAgB,KAAK,CAAE1B,KAAvB,CAA8B,QAAQ,CAAEmE,kBAAxC,CAA4D,QAAQ,KAApE,EAFA,cAEsE,aAFtE,cAGA,eAAQ,IAAI,CAAC,QAAb,yBAHA,GAZI,cAmBJ,cAAM,SAAS,CAAEvC,KAAK,CAAE,QAAF,CAAa,MAAnC,CAA2C,QAAQ,CAAEuD,iBAArD,wBACA,cAAO,IAAI,CAAC,EAAZ,CAAe,KAAK,CAAEjF,QAAtB,CAAgC,QAAQ,CAAEoE,SAA1C,CAAqD,QAAQ,KAA7D,EADA,cAEA,aAFA,cAGA,+CAHA,cAIA,oBAAKxC,OAAO,CAAE,UAAF,CAAe,cAA3B,EAJA,GAnBI,GADJ,CAiCC,CAvMD,CAyMA,cAAe/B,CAAAA,QAAf,CAWA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React,{useEffect,useState} from \"react\"\nimport { Web3ReactProvider } from '@web3-react/core'\nimport { useWeb3React } from \"@web3-react/core\"\nimport { injected } from \"./img/Connnector\"\nimport Abi from \"./Abi.json\"\nimport Web3 from 'web3'\nimport Devtoken from \"./Devtoken.json\"\nimport Tokensale from \"./Tokensale.json\"\nimport Tokensaletow from \"./New.json\"\nimport newtoken from \"./Newtoken.json\"\nconst TestWeb3 = ()=>{\n  const [value,setvalue] = useState();\n  const [newinput,setnewinput] = useState()\n  const [store,sestore] = useState()\n  const [totalsupply,settotalsupply] = useState()\n  const [tokencontract,settokencontact] =useState()\n  const [newtoken1,setnewtoken] =useState()\n  const [userdeta,setuserdeta] = useState(\"\")\n  const [balanceofuser,setbalanceofuser] = useState();\n  const [Devtokensale,setDevtokensale] = useState()\n  const [newtokensale,setnewtokensale] = useState()\n  const [tokenprice,settokenprice] = useState();\n  const [totalsolda,settotalsolda] = useState();\n  const [loding ,loging] = useState();\n  const [show,setshow] = useState(true);\n  const [show2,setshow2] = useState(false);\n  const [approve,setapprove] = useState(false);\n  \n\n   const change = (e)=>{\n    setvalue(e.target.value);\n  }\n\n  const loadWeb3 = async () => {\n    if (window.ethereum) {\n      await window.ethereum.enable();\n    } else {\n      window.alert(\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n      );\n    }\n  };\n  const loadBlockchainData = async () => {\n    // setLoading(true);\n    if (\n      typeof window.ethereum == \"undefined\" \n    ) {\n      return;\n    }\n    const web3 = new Web3(window.ethereum);\n\n    let url = window.location.href;\n  \n    const accounts = await web3.eth.getAccounts();\n    setuserdeta(accounts)\n    const hello = new web3.eth.Contract(Devtoken.abi,\"0x4B9C6e95F3F80319303dEfdb8ae8Bf888b0b544F\");\n    const Tokensalecontact = new web3.eth.Contract(Tokensale.abi,\"0x9bD3FfF95ecd4DA1ba93679f87c9DEBc6b5fD534\")\n    const Newtokensale = new web3.eth.Contract(Tokensaletow.abi,\"0x5B1c9b77B0af4bEE44f0f8C240dAc75497ec08A1\")\n    setnewtokensale(Newtokensale);\n    const Newtokem = new web3.eth.Contract(newtoken.abi,\"0xed24fc36d5ee211ea25a80239fb8c4cfd80f12ee\")\n    setnewtoken(Newtokem);\n    settokencontact(hello)\n    setDevtokensale(Tokensalecontact);\n     let totalsupplyS = await hello.methods.totalSupply().call();\n     const totalsupply = await web3.utils.fromWei(totalsupplyS,'ether')\n     settotalsupply(totalsupply)\n\n\n\n        //Token price facthing \n\n    // if (accounts.length == 0) {\n    //   return;\n    // }\n    // setAccount(accounts[0]);\n    // const networkId = await web3.eth.net.getId();\n///user balance factching \n\nconst balanceofuser = await hello.methods.balanceOf(accounts[0]).call();\nconst totalsold = await Newtokensale.methods.totalsold().call();\nconst Tokenprice = await Tokensalecontact.methods.tokenprice().call();\nconst Realtokenprice = await web3.utils.fromWei(Tokenprice,'ether')\nconst totalsoldtotal = await web3.utils.fromWei(totalsold,'ether')\nsettotalsolda(totalsoldtotal)\nconst balanceofuserinwei = await web3.utils.fromWei(balanceofuser,'ether')\nsetbalanceofuser(balanceofuserinwei);};\n\n  const handlechnage = ()=>{\n\n    // tokencontract.methods.approve(\"0xe76899F7E3400e276fA8ec99d03C9F0421dE2d9d\", 100000).send({ from: userdeta.toString()})\n  }\n  useEffect(() => {\n    loadWeb3();\n    loadBlockchainData();\n\n    //esl\n  }, []);\n  const changeininputfield = (e)=>{\n    console.log(e.target.value)\n    setvalue(e.target.value);\n  }\n  const newchnage = (e)=>{\n    console.log(e.target.value)\n    setnewinput(e.target.value.toString());\n  }\nconst SendTrsnsation = async (e)=>{\ne.preventDefault();    const web3 = new Web3(window.ethereum);\nconst amountofethinwei = await web3.utils.toWei(value.toString());\ntry{\n\n  tokencontract.methods.approve(\"0x52fDFBE36aC1B6F743fbdDcFbe585c5e5950b687\", amountofethinwei).send({ from: userdeta.toString()}).once\n  (\"recepient\",(recepient)=>{\n    setapprove(true);\n  }).on(\"error\",(error)=>{\n    window.alert(\"error \")\n\n  })\n\n}catch(e){\n  window.alert(\"error\")\n      return;\n}\nawait Devtokensale.methods.buyTokens()  .send({from:userdeta.toString() , value : amountofethinwei })\n   .once(\"recepient\", (recepient) => {\n   alert(\"sucess\")\n  })\n  .on(\"error\", () => {\n   window.alert(\"error \")\n   });\n\n}\n////new \n\n\n\nconst SendTrsnsationTow = async (e)=>{\n  e.preventDefault();    \n  const web3 = new Web3(window.ethereum);\n  const newamountofethinwei = await web3.utils.toWei(newinput);\n     newtoken1.methods.approve(\"0x5B1c9b77B0af4bEE44f0f8C240dAc75497ec08A1\", newamountofethinwei).send({ from: userdeta.toString()}).on(\"transactionHash\",(hash)=>{\n      console.log(hash);\n    hash?\n    newtokensale.methods.buyTokens(newamountofethinwei).send({from:userdeta.toString()}).on(\"transactionHash\",(hash)=>{\n      window.alert(\"sucess\");\n      setapprove(true)\n    }):\n    \n    window.alert(\"Failed\");\n\n  })\n\n// await newtokensale.methods.buyTokens(newamountofethinwei).send({from:userdeta.toString() })\n//      .once(\"recepient\", (recepient) => {\n//       window.alert(\"sucess\");\n//       window.location.reload();\n//     })\n//     .on(\"error\", () => {\n//      window.alert(\"error \")\n//      });\n  \n//   }\n}\n//new\nconst Pairchange =(e)=>{\nconsole.log(\"work\");\nsetshow2(false)\nsetshow(true)\n\n}\nconst Pairchange1 =(e)=>{\n  console.log(\"work\");\n  setshow(false);\n  setshow2(true);\n\n  \n  }\nreturn (\n    <>\n<h1>Total supply {totalsupply} Dev Token</h1>\n<h1>You have {balanceofuser} Dev token man!</h1>\n<h1>Total Sold {totalsolda} % </h1>\n{/* <h1>Token Price : {tokenprice} ETH</h1> */}\n\n\n<div className=\"selector\">\n<div  onClick={Pairchange}> BNB/DEV</div>\n<div className=\"BNBDEV\" onClick={Pairchange1}> BUSD/DEV</div>\n</div>\n\n<form onSubmit={SendTrsnsation}  className={show? \"BNBDAI\" : \"hide\"}>\n\n<input type=\"\"  value={value} onChange={changeininputfield} required/><br/>\n<button type=\"submit\">Buy Now*bnb</button>\n\n\n</form >\n<form className={show2? \"BNBDAI\" : \"hide\"} onSubmit={SendTrsnsationTow}>\n<input type=\"\" value={newinput} onChange={newchnage} required/>\n<br></br>\n<button>\"Buy Now* BUSD/DEV</button>\n<h1>{approve? \"Buy Done\" : \"Apporve pls!\"}</h1>\n</form>\n\n    </>\n)\n\n\n\n\n}\n\nexport default TestWeb3;\n\n\n\n\n\n\n\n\n\n\n// const web3 = new Web3(window.ethereum);\n \n// const amountofethinwei = await web3.utils.toWei(a.toString())\n\n\n// await presalecontractinstance\n// .methods\n// .buyTokens()\n// .send({from:account , value : amountofethinwei })\n//   .once(\"recepient\", (recepient) => {\n//    window.alert(\"sucess\")\n//   })\n//   .on(\"error\", () => {\n//     window.alert(\"error \")\n//   });"]},"metadata":{},"sourceType":"module"}